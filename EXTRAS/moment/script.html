<!DOCTYPE html>
<html>

<body>

    <!-- Load d3.js and c3.js -->
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="c3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.5/Chart.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
    <script src="https://d3js.org/d3-queue.v3.min.js"></script>
    <!--
    <script type="text/javascript" src="../js/iframeResizer.min.js"></script>
    <script type="text/javascript" src="../js/iframeResizer.contentWindow.min.js"></script>
-->
    <div id="chart"></div>

    <script>
        function drawplot(nestedData) {
            //            var choice = menu.property("value")
            //            var sel2 = change_zoom_menu.property("value")
            //            var last_month_extent = Math.max.apply(Math, nestedData.map(function (o) {
            //                return o.Date;
            //            }));
            //            var Plot_Date = [];
            //            var Plot_Amount = [];
            //
            //            for (var i = 0, len = nestedData.length; i < len; i++) {
            //                Plot_Date.push(nestedData[i].Date)
            //                Plot_Amount.push(Math.round((nestedData[i].values) * 100) / 100)
            //                Plot_Amount[i] = Math.abs(Plot_Amount[i])
            //            };
            //            Plot_Amount = Plot_Amount.slice(0, Plot_Amount.length);
            //            Plot_Date = Plot_Date.slice(0, Plot_Date.length);
            //
            //            // Add the name of the column to the front of the array.
            //            Plot_Amount.unshift(choice);
            //            Plot_Date.unshift('x');

            var chart = c3.generate({
                data: {
                    x: 'x',
                    xFormat: '%Y-%m-%dT%H:%M:%S-%L:%S',
                    columns: [
            ['x', '2017-10-1T00:00:00-05:00', '2017-10-2T00:00:00-05:00', '2017-10-3T00:00:00-05:00', '2017-10-4T00:00:00-05:00', '2017-10-5T00:00:00-05:00', '2017-10-6T00:00:00-05:00', '2017-10-7T00:00:00-05:00', '2017-10-8T00:00:00-05:00', '2017-10-9T00:00:00-05:00', '2017-10-10T00:00:00-05:00', '2017-10-11T00:00:00-05:00', '2017-10-12T00:00:00-05:00', '2017-10-13T00:00:00-05:00', '2017-10-14T00:00:00-05:00', '2017-10-15T00:00:00-05:00', '2017-10-16T00:00:00-05:00', '2017-10-17T00:00:00-05:00', '2017-10-18T00:00:00-05:00', '2017-10-19T00:00:00-05:00', '2017-10-20T00:00:00-05:00', '2017-10-21T00:00:00-05:00', '2017-10-22T00:00:00-05:00', '2017-10-23T00:00:00-05:00', '2017-10-24T00:00:00-05:00'],
            ['Messages', 12, 20, 10, 6, 10, 2, 12, 2, 10, 23, 15, 12, 12, 20, 10, 6, 10, 2, 12, 2, 10, 9, 15, 12],
            ['Messenger', 12, 2, 10, 4, 15, 6, 20, 10, 6, 10, 2, 5, 5, 10, 4, 1, 5, 20, 5, 10, 4, 1, 5, 12],
            ['Grindr', 20, 5, 10, 4, 1, 5, 20, 5, 10, 4, 1, 5, 12, 2, 10, 5, 15, 6, 20, 10, 6, 10, 2, 5],
            ['Snapchat', 12, 20, 10, 6, 12, 2, 10, 6, 15, 6, 20, 10, 6, 10, 2, 5, 5, 10, 4, 1, 5, 4, 1, 10, 6]
            ],
                    type: 'area-spline'
                },
                point: {
                    show: false
                },
                legend: {
                    position: 'inset'
                },
                subchart: {
                    show: true
                },
                axis: {
                    x: {
                        type: 'timeseries',
                        tick: {
                            format: '%m-%d'
                        },
                        padding: 0
                    },
                    y: {
                        padding: {
                            bottom: 0
                        }
                    }
                },
                color: {
                    pattern: ['#30bf45', '#2c9ee5', '#95772a', '#e5df15']
                },
            });
        }
    </script>
</body>

</html>